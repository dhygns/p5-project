<!DOCTYPE html>
<html>
  <head>
    <title> P5 Project (Getting Started) </title>
    <style>
    body {
      overflow : hidden;
      margin-left : 0px;
      margin-top : 0px;
    }
    </style>
  </head>
  <body>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/p5.js"></script>
    <script>
    class Ball {
      constructor(scale) {
        this.scale = scale;
        this.position = { x : 0, y : - 100.0};


      }

      update(dt) {
        this.position.y = map(Math.sin(millis() * 0.001), -1.0, 1.0, -50.0, -150.0);
      }

      render() {
        var px = window.innerWidth / 2;
        var py = window.innerHeight / 2;

        var x = this.position.x;
        var y = this.position.y;

        fill(0);
        ellipse(px + x, py - y, this.scale, this.scale);
        line(px, py, px + x, py - y);
      }
    }

    var PO = undefined;
    var nt = 0.0, ot = 0.0;

    function setup() {
      createCanvas(window.innerWidth, window.innerHeight);
      PO = new Ball(30);
    }

    function keyPressed() {
      switch(keyCode) {
        case UP_ARROW : PO.acc(); break;
        case LEFT_ARROW : PO.turnleft(); break;
        case RIGHT_ARROW : PO.turnright(); break;
        default : console.log(keyCode); break;
      }
    }

    function keyReleased() {
      switch(keyCode) {
        case UP_ARROW : PO.brk(); break;
        case LEFT_ARROW : case RIGHT_ARROW : PO.turncenter(); break;
        default : console.log(keyCode); break;
      }
    }

    function draw() {
      ot = nt;
      nt = millis() * 0.001;
      background(255, 255, 255, 5);
      PO.update(nt - ot);
      PO.render();
    }

    </script>
  </body>
</html>
